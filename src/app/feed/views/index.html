<h1>Feed</h1>


<form ng-submit="ctrl.addNewPost()" class="form-horizontal well">
  <div class="form-group">
    <label class="col-sm-2 control-label">text</label>
    <div class="col-sm-10">
      <textarea ng-model="data.newPostText" class="form-control" required></textarea>
    </div>
  </div>
  <div class="form-group" style="margin-bottom:0">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </div>
</form>


<div  ng-repeat="post in data.posts"
      ng-class="{event: post.isEvent()}"
      class="am-flip-x well">
  <h3>{{post.author.displayname}}</h3>
  <p>{{post.text}}</p>
</div>

<button ng-click="ctrl.loadMore()"
        ng-disabled="!meta.posts.hasMore"
        ng-class="{'btn-info': meta.posts.hasMore, 'btn-link': !meta.posts.hasMore}"
        class="btn btn-block">{{(meta.posts.hasMore) ? 'load more' : 'all posts loaded'}}</button>
